---
layout: post
title: 自己倒腾静态文本博客记
date: 2014-03-06
author: guoguogis
comments: true
categories: [lessons]
tags: [jekyll,博客]
---
### 一、环境安装
####1、安装Ruby，如C:\Ruby200-x64下；
####2、安装对应版本的DevKit,如C:\rubydevkit下；
####3、安装完成后，环境比那两中添加ruby的访问路径，如C:\Ruby200-x64\bin;
####4、设置好环境变量后，进入C:\rubydevkit下，并运行脚本：
{% highlight javascript%}
ruby dk.rb init
{% endhighlight %}
####5、运行完成后，在C:\rubydevkit下生成 *config.yml*文件，效果如下：
{% highlight javascript%}
 This configuration file contains the absolute path locations of all
 installed Rubies to be enhanced to work with the DevKit. This config
 file is generated by the 'ruby dk.rb init' step and may be modified
 before running the 'ruby dk.rb install' step. To include any installed
 Rubies that were not automagically discovered, simply add a line below
{% endhighlight %}
####6、在*config.yml*中添加
 C:\Ruby200-x64
####7、运行

{% highlight javascript%}
ruby dk.rb install
{% endhighlight %}

效果如下：
[INFO] Updating convenience notice gem override for 'C:/Ruby200-x64'
[INFO] Installing 'C:/Ruby200-x64/lib/ruby/site_ruby/devkit.rb'
####8、安装Jekyll：*gem install jekyll*，这里的gem是ruby的包管理器，通过gem安装jekyll时需要联网，安装成功后，可以看到提示：
*21 gems installed*；

####9、创建blog：运行*jekyll new guoguogis.github.io*,可以看到在当前目录下生成了一个guoguogis.github.io文件夹，且该文件夹自带git相关文件；
####10、进入项目并启动服务：
*cd guoguogis.github.io
jekyll serve
*

####11、看到编译成功后“done”的信息后，通过访问:http://localhost:4000可以访问网站；

### 二、注意事项：
####1、运行上面10步骤中的*jekyll serve*出现报错：

{% highlight javascript%}
C:\rubydevkit\guoguogis.github.io>jekyll serve
Configuration file: C:/rubydevkit/guoguogis.github.io/_config.yml
            Source: C:/rubydevkit/guoguogis.github.io
       Destination: C:/rubydevkit/guoguogis.github.io/_site
      Generating... C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/posix-spawn-0.3.8/li
b/posix/spawn.rb:162: warning: cannot close fd before spawn
'which' 不是内部或外部命令，也不是可运行的程序
或批处理文件。
error: Invalid argument - C:/rubydevkit/guoguogis.github.io/_site/C:. Use --trac
e to view backtrace
{% endhighlight %}

这里是由于pygments的版本导致的:通过*gem list可以看到当前安装的pygments*
方案1：修改_config.yml中的 *pygments为false*，标示不支持高亮；
方案2：安装正确的pygments的版本,先删除其他版本，安装0.5.0版本，[参考](http://www.cnblogs.com/yevon/p/3310857.html)；

####2、除了上面错误外，还报错：“mkdir': Invalid argument”
解决方案可以[参考](http://pchou.info/web-build/2014/01/25/52e36ecfe5317.html)

####3、除了上面的错误外，有时还会出现“ invalid byte sequence in GBK”的错误：
只需要在_config.yml中添加：*encoding: utf-8*即可。
